---
layout: post
title: 2025.05.25 TIL
subtitle: 오늘도 러닝 8km 뛰었다
tags: [infra]
---

# Kafka

카프카에서 데이터를 읽는 것은 다른 메시지 전달 시트템에서 데이터를 읽는 것과 조금 다름

## 카프카 컨슈머

### 컨슈머, 컨슈머 그룹

- 처리 속도로 인해 밀리지 않기 위해 데이터를 읽어 오는 작업을 확장할 수 있어야 함
- 카프카 컨슈머는 보통 컨슈머 그룹의 일부로서 동작함
- 일반적인 규모 확장 방식
  1. 하나의 컨슈머로 토픽에 들어오는 데이터의 속동를 감당할 수 없는 상황
  2. 컨슈머를 추가
  3. 단위 컨슈머가 처리하는 파티션과 메시지의 수를 분산
- 여러 애플리케이션에서 동일한 토픽에서 데이터를 읽어와야 하는 경우
  1. 애플리케이션 별로 컨슈머 그룹 생성
  2. 컨슈머 추가

### 컨슈머 그룹과 파티션 리밸런스

- 컨슈머 그룹에 속한 컨슈머들은 토픽의 파티션들에 대한 소유권을 공유
- 리밸런스(rebalance): 컨슈머에 할당된 파티션을 다른 컨슈머에게 할당해주는 작업

